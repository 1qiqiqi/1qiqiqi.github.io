let btf={debounce:function(o,a,i){let r;return function(){let e=this,t=arguments;var n=i&&!r;clearTimeout(r),r=setTimeout(function(){r=null,i||o.apply(e,t)},a),n&&o.apply(e,t)}},throttle:function(n,o,a){function i(){s=!1===a.leading?0:(new Date).getTime(),r=null,n.apply(l,d),r||(l=d=null)}let r,l,d,s=0;a=a||{};return function(){var e=(new Date).getTime(),t=(s||!1!==a.leading||(s=e),o-(e-s));l=this,d=arguments,t<=0||o<t?(r&&(clearTimeout(r),r=null),s=e,n.apply(l,d),r||(l=d=null)):r||!1===a.trailing||(r=setTimeout(i,t))}},sidebarPaddingR:()=>{var e=window.innerWidth,t=document.body.clientWidth;e!==t&&(document.body.style.paddingRight=e-t+"px")},snackbarShow:(e,t=!1,n=2e3)=>{var{position:o,bgLight:a,bgDark:i}=GLOBAL_CONFIG.Snackbar,a="light"===document.documentElement.getAttribute("data-theme")?a:i;Snackbar.show({text:e,backgroundColor:a,showAction:t,duration:n,pos:o,customClass:"snackbar-css"})},diffDate:(e,t=!1)=>{var n,o,a,i=new Date,e=new Date(e),i=i.getTime()-e.getTime(),r=864e5,l=GLOBAL_CONFIG.dateSuffix;return t?(t=i/r,o=i/36e5,a=i/6e4,12<(n=i/2592e6)?e.toISOString().slice(0,10):1<=n?parseInt(n)+" "+l.month:1<=t?parseInt(t)+" "+l.day:1<=o?parseInt(o)+" "+l.hour:1<=a?parseInt(a)+" "+l.min:l.just):parseInt(i/r)},loadComment:(e,n)=>{if("IntersectionObserver"in window){let t=new IntersectionObserver(e=>{e[0].isIntersecting&&(n(),t.disconnect())},{threshold:[0]});t.observe(e)}else n()},scrollToDest:(o,a=500)=>{let i=window.pageYOffset;var e=document.getElementById("page-header").classList.contains("fixed");if((i>o||e)&&(o-=70),"scrollBehavior"in document.documentElement.style)window.scrollTo({top:o,behavior:"smooth"});else{let n=null;o=+o,window.requestAnimationFrame(function e(t){t-=n=n||t;i<o?window.scrollTo(0,(o-i)*t/a+i):window.scrollTo(0,i-(i-o)*t/a),t<a?window.requestAnimationFrame(e):window.scrollTo(0,o)})}},animateIn:(e,t)=>{e.style.display="block",e.style.animation=t},animateOut:(t,e)=>{t.addEventListener("animationend",function e(){t.style.display="",t.style.animation="",t.removeEventListener("animationend",e)}),t.style.animation=e},getParents:(e,t)=>{for(;e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},siblings:(t,n)=>[...t.parentNode.children].filter(e=>n?e!==t&&e.matches(n):e!==t),wrap:(e,t,n)=>{var o,a,i=document.createElement(t);for([o,a]of Object.entries(n))i.setAttribute(o,a);e.parentNode.insertBefore(i,e),i.appendChild(e)},unwrap:e=>{var t=e.parentNode;t&&t!==document.body&&t.replaceChild(e,t)},isHidden:e=>0===e.offsetHeight&&0===e.offsetWidth,getEleTop:e=>{let t=e.offsetTop,n=e.offsetParent;for(;null!==n;)t+=n.offsetTop,n=n.offsetParent;return t},loadLightbox:e=>{var t=GLOBAL_CONFIG.lightbox;"mediumZoom"===t&&mediumZoom(e,{background:"var(--zoom-bg)"}),"fancybox"===t&&(e.forEach(e=>{var t,n;"A"!==e.parentNode.tagName&&(t=e.dataset.lazySrc||e.src,n=e.title||e.alt||"",btf.wrap(e,"a",{href:t,"data-fancybox":"gallery","data-caption":n,"data-thumb":t}))}),window.fancyboxRun||(Fancybox.bind("[data-fancybox]",{Hash:!1,Thumbs:{showOnStart:!1},Images:{Panzoom:{maxScale:4}},Carousel:{transition:"slide"},Toolbar:{display:{left:["infobar"],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY"],right:["slideshow","thumbs","close"]}}}),window.fancyboxRun=!0))},initJustifiedGallery:function(e){let t=e=>{btf.isHidden(e)||fjGallery(e,{itemSelector:".fj-gallery-item",rowHeight:e.getAttribute("data-rowHeight"),gutter:4,onJustify:function(){this.$container.style.opacity="1"}})};0===Array.from(e).length?t(e):e.forEach(e=>{t(e)})},updateAnchor:e=>{var t;e!==window.location.hash&&(e=e||location.pathname,t=GLOBAL_CONFIG_SITE.title,window.history.replaceState({url:location.href,title:t},t,e))},getScrollPercent:(e,t)=>{var n=t.clientHeight,o=document.documentElement.clientHeight,n=o<n?n-o:document.documentElement.scrollHeight-o,o=Math.round(100*((e-t.offsetTop)/n));return 100<o?100:o<=0?0:o},addModeChange:(e,t)=>{window.themeChange&&window.themeChange[e]||(window.themeChange={...window.themeChange,[e]:t})}};